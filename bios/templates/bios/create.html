{% extends 'bios/base.html'%}
{% load static %}

{% block title %} Create New Profile {% endblock %}

{% block content %}
<style>
    .hidden {
        display: none;
    }

</style>
<form method='post' action='/create/' enctype="multipart/form-data">
    {% csrf_token %}

    <div>
        <table id="create-table">
            <tr>
                <th> Name </th>
                <th> Email </th>
                <th> Position </th>
                <th> Location </th>
                {% comment %} <th> Business Domain </th> {% endcomment %}
            </tr>
            <td> {{form.name}} </td>
            <td> {{form.email}} </td>
            <td> {{form.position}} </td>
            <td> {{form.location}} </td>
            {% comment %} <td> {{form.domain}} </td> {% endcomment %}
        </table>

    </div>
    <button type="submit" , name="save"> Create / Update Profile </button>
</form>


{% endblock %}

{% block jsblock %}
<script>
    // onchange() is generated by django form
    function checkbox(event) {
        let checkbox = document.getElementById(event.target.id);
        if (checkbox.checked == true) {
            let hidden_selects = document.getElementsByClassName('hidden')
            for (var i = 0; i < hidden_selects.length; i++) {
                compare_id = hidden_selects[i].id;
                if (checkbox.id == compare_id) {
                    select_id = hidden_selects[i].id.split('_')
                    hidden_selects[i].setAttribute("class", "unhide");
                }
            }

        } else {
            let unhide_selects = document.getElementsByClassName('unhide')
            for (var i = 0; i < unhide_selects.length; i++) {
                compare_id = unhide_selects[i].id
                // compare_id = prefix.concat(unhide_selects[i].id)

                if (checkbox.id == compare_id) {
                    console.log("no");
                    unhide_selects[i].setAttribute("class", "hidden");
                }
            }
        }
    }

    function select_level(event) {
        // console.log(event.target)
        options = document.getElementById(event.target.name)
        options.setAttribute('value', options.value.concat(" ".concat(event.target.value)))
        console.log(options.value)
    }
</script>

{% endblock %}